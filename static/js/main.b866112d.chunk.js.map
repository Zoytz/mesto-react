{"version":3,"sources":["images/Logo.svg","components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/ImagePopup.js","utils/Api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup .js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","headerLogo","alt","Footer","CurrentUserContext","React","createContext","Card","props","userInfo","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onClick","onCardDelete","link","name","onCardClick","onCardLike","length","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","onDelCardClick","PopupWithForm","isOpen","onClose","onSubmit","title","children","value","buttonText","ImagePopup","api","config","this","_url","url","_headers","headers","fetch","method","then","_checkResOk","data","body","JSON","stringify","cardId","res","ok","json","Promise","reject","authorization","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","onChange","evt","target","id","minLength","maxLength","required","EditAvatarPopup","inputRef","useRef","onUpdateAvatar","current","ref","placeholder","AddPlacePopup","placeName","setPlaceName","placeLink","setPlaceLink","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","selectedCard","setSelectedCard","currentUser","setCurrentUser","setCards","closeAllPopups","getInitialCards","resCards","catch","err","console","log","getUserInfo","resUser","Provider","delLikeCard","newCard","c","setLikeCard","deleteCard","filter","editUserInfo","addCard","editUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b866112d.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Logo.bbe2a6ea.svg\";","import headerLogo from '../images/Logo.svg';\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header page__header\">\r\n      <img className=\"logo\" src={headerLogo} alt=\"Место\" />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","function Footer() {\r\n  return (\r\n    <footer className=\"footer page__footer\">\r\n      <p className=\"footer__copyright\">\r\n        © 2021 Mesto Russia\r\n      </p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport React from 'react';\r\n\r\nfunction Card(props) {\r\n\r\n  const userInfo = React.useContext(CurrentUserContext);\r\n\r\n  const isOwn = props.card.owner._id === userInfo._id;\r\n  const cardDeleteButtonClassName = (\r\n    `card__del-btn ${isOwn ? '' : 'card__del-btn_disabled'}`\r\n  );\r\n\r\n  const isLiked = props.card.likes.some(i => i._id === userInfo._id);\r\n\r\n  const cardLikeButtonClassName = (\r\n    `card__like ${isLiked ? 'card__like_active' : ''}`\r\n  );\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.card);\r\n  } \r\n\r\n  return (\r\n    <li className=\"card\">\r\n      <button className={cardDeleteButtonClassName} type=\"button\" aria-label=\"Кнопка удаления карточки\" onClick={handleDeleteClick}></button>\r\n      <img src={props.card.link} alt={props.card.name} className=\"card__image\" onClick={handleClick} />\r\n      <div className=\"card__content\">\r\n        <h2 className=\"card__title\">{props.card.name}</h2>\r\n        <div className=\"card__like-container\">\r\n          <button className={cardLikeButtonClassName} type=\"button\" aria-label=\"Поставить лайк\" onClick={handleLikeClick}></button>\r\n          <p className=\"card__like-counter\">{props.card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from '../components/Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) { \r\n\r\n  const userInfo = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <>\r\n      <section className=\"profile page__profile\">\r\n        <div className=\"profile__avatar-container\">\r\n          <img src={userInfo.avatar} alt=\"Аватар\" className=\"profile__avatar\" />\r\n          <button className=\"profile__avatar-edit-btn\" type=\"button\" aria-label=\"Кнопка редактирования аватара\" onClick={props.onEditAvatar}></button>\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__title\">{userInfo.name}</h1>\r\n          <button className=\"profile__edit-button\" type=\"button\" aria-label=\"Кнопка редактирования профиля\" onClick={props.onEditProfile}>\r\n          </button>\r\n          <p className=\"profile__subtitle\">{userInfo.about}</p>\r\n        </div>\r\n        <button className=\"profile__add-button\" type=\"button\" aria-label=\"Кнопка добавления карточек\" onClick={props.onAddPlace}>\r\n        </button>\r\n      </section>\r\n      <section className=\"elements page__elements\">\r\n        <ul className=\"cards page__list\">\r\n          {\r\n            props.cards.map((card) => {\r\n              return (<Card\r\n                card={card}\r\n                key={card._id}\r\n                onCardClick={props.onCardClick}\r\n                onDelCardClick={props.onDelCardClick}\r\n                onCardLike={props.onCardLike}\r\n                onCardDelete={props.onCardDelete}\r\n              />)\r\n            })\r\n          }\r\n        </ul>\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Main;","\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <div className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_active' : ''}`}>\r\n      <div className=\"popup__container\">\r\n        <button className=\"popup__close-btn\" type=\"button\" aria-label=\"Кнопка закрытия попапа\" onClick={props.onClose}></button>\r\n        <form onSubmit={props.onSubmit} className={`form form_type_${props.name}`} name={`${props.name}-form`}>\r\n          <h2 className=\"form__item form__title\">{props.title}</h2>\r\n          {props.children}\r\n          <button type=\"submit\" className=\"form__item form__button\" value={props.buttonText} aria-label=\"Кнопка отправки формы\">{props.buttonText}</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","function ImagePopup(props) {\r\n\r\n  return (\r\n    <div className={`popup popup_type_image ${props.isOpen ? 'popup_active' : ''}`} onClick={props.onClose}>\r\n      <div className=\"popup__container\">\r\n        <button className=\"popup__close-btn\" type=\"button\" aria-label=\"Кнопка закрытия попапа\" onClick={props.onClose}></button>\r\n        <img className=\"popup__image\" src={props.card.link} alt={props.card.name} />\r\n        <h2 className=\"popup__title\">{props.card.name}</h2>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;","class Api {\r\n  constructor(config){\r\n    this._url = config.url;\r\n    this._headers = config.headers;\r\n  }\r\n\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._url}cards`, {\r\n      method: 'GET',\r\n      headers: this._headers,\r\n    })\r\n    .then(this._checkResOk)\r\n    // .then((res) => {\r\n    //   if (res.ok){\r\n    //     return res.json();\r\n    //   }\r\n    //   return Promise.reject('getInitialCards');\r\n    // });\r\n  }\r\n\r\n  addCard(data) {\r\n    return fetch(`${this._url}cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify(data),\r\n    })\r\n    .then(this._checkResOk)\r\n    // .then((res) => {\r\n    //   if (res.ok){\r\n    //     return res.json();\r\n    //   }\r\n    //   return Promise.reject('addCard');\r\n    // });\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._url}cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    })\r\n    .then(this._checkResOk)\r\n    // .then((res) => {\r\n    //   if (res.ok){\r\n    //     return res.json();\r\n    //   }\r\n    //   return Promise.reject('addCard');\r\n    // });\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._url}users/me`, {\r\n      method: 'GET',\r\n      headers: this._headers,\r\n    })\r\n    .then(this._checkResOk)\r\n    // .then((res) => {\r\n    //   if (res.ok){\r\n    //     return res.json();\r\n    //   }\r\n    //   return Promise.reject('getUserInfo');\r\n    // });\r\n  }\r\n\r\n  editUserInfo(data) {\r\n    return fetch(`${this._url}users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify(data),\r\n    })\r\n    .then(this._checkResOk)\r\n    // .then((res) => {\r\n    //   if (res.ok){\r\n    //     return res.json();\r\n    //   }\r\n    //   return Promise.reject('editUserInfo');\r\n    // })\r\n  }\r\n\r\n  editUserAvatar(data) {\r\n    return fetch(`${this._url}users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify(data),\r\n    })\r\n    .then(this._checkResOk)\r\n    // .then((res) => {\r\n    //   if (res.ok){\r\n    //     return res.json();\r\n    //   }\r\n    //   return Promise.reject('editUserAvatar');\r\n    // })\r\n  }\r\n\r\n  setLikeCard(cardId) {\r\n    return fetch(`${this._url}cards/likes/${cardId}`, {\r\n      method: 'PUT',\r\n      headers: this._headers,\r\n    })\r\n    .then(this._checkResOk)\r\n    // .then((res) => {\r\n    //   if (res.ok){\r\n    //     return res.json();\r\n    //   }\r\n    //   return Promise.reject('addCard');\r\n    // });\r\n  }\r\n\r\n  delLikeCard(cardId) {\r\n    return fetch(`${this._url}cards/likes/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    })\r\n    .then(this._checkResOk)\r\n    // .then((res) => {\r\n    //   if (res.ok){\r\n    //     return res.json();\r\n    //   }\r\n    //   return Promise.reject('addCard');\r\n    // });\r\n  }\r\n\r\n  _checkResOk(res) {\r\n    \r\n      if (res.ok){\r\n        return res.json();\r\n      }\r\n      return Promise.reject('addCard');\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  url: 'https://mesto.nomoreparties.co/v1/cohort-30/',\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n    authorization: '30686ebe-9b4e-4da0-b73e-617cab53800b',\r\n  }\r\n})\r\n\r\nexport default api;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n  const userInfo = React.useContext(CurrentUserContext);\r\n\r\n  const [name, setName] = React.useState(userInfo.name);\r\n  const [description, setDescription] = React.useState(userInfo.about);\r\n\r\n  React.useEffect(() => {\r\n    setName(userInfo.name);\r\n    setDescription(userInfo.about);\r\n  }, [userInfo, props.isOpen]);\r\n\r\n  function handleNameChange(evt) {\r\n    setName(evt.target.value );\r\n  }\r\n\r\n  function handleDescriptionChange(evt) {\r\n    setDescription(evt.target.value );\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm onSubmit={handleSubmit} name='profile' title='Редактировать профиль' isOpen={props.isOpen} onClose={props.onClose} buttonText='Сохранить'>\r\n      <input value={`${name}`} onChange={handleNameChange} type=\"text\" className=\"form__input form__input_type_name \" name=\"name\" id=\"name\" minLength=\"2\" maxLength=\"40\" required />\r\n      <span className=\"form__input-error name-error\"></span>\r\n      <input value={`${description}`} onChange={handleDescriptionChange} type=\"text\" className=\"form__input form__input_type_job\" name=\"about\" id=\"about\" minLength=\"2\" maxLength=\"200\" required />\r\n      <span className=\"form__input-error about-error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport { EditProfilePopup };","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n  const inputRef = React.useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n  \r\n    props.onUpdateAvatar({\r\n      avatar: inputRef.current.value,\r\n    });\r\n    inputRef.current.value='';\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm onSubmit={handleSubmit} name='avatar' title='Обновить аватар' isOpen={props.isOpen} onClose={props.onClose} buttonText='Сохранить'>\r\n      <input ref={inputRef} type=\"url\" className=\"form__input form__input_type_avatar\" name=\"avatar\" id=\"avatar\" placeholder=\"Ссылка на картинку\" required />\r\n      <span className=\"form__input-error avatar-error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport { EditAvatarPopup };","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n  const [placeName, setPlaceName] = React.useState('');\r\n  const [placeLink, setPlaceLink] = React.useState('');\r\n\r\n  function handleNameChange(evt) {\r\n    return setPlaceName(evt.target.value);\r\n  }\r\n\r\n  function handleLinkChange(evt) {\r\n    return setPlaceLink(evt.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onAddPlace({\r\n      name: placeName,\r\n      link: placeLink,\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setPlaceName('');\r\n    setPlaceLink('');\r\n  }, [props.isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm onSubmit={handleSubmit} name='card' title='Новое место' isOpen={props.isOpen} onClose={props.onClose} buttonText='Создать'>\r\n      <input value={placeName} onChange={handleNameChange} type=\"text\" className=\"form__input form__input_type_place-name\" name=\"name\" id=\"place-name\" placeholder=\"Название\" minLength=\"2\" maxLength=\"30\" required />\r\n      <span className=\"form__input-error place-name-error\"></span>\r\n      <input value={placeLink} onChange={handleLinkChange} type=\"url\" className=\"form__input form__input_type_place-image\" name=\"link\" id=\"place-image\" placeholder=\"Ссылка на картинку\" required />\r\n      <span className=\"form__input-error place-image-error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport { AddPlacePopup };","\nimport React from 'react';\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport Main from '../components/Main';\nimport PopupWithForm from '../components/PopupWithForm';\nimport ImagePopup from '../components/ImagePopup';\nimport api from '../utils/Api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport { EditProfilePopup } from '../components/EditProfilePopup';\nimport { EditAvatarPopup } from '../components/EditAvatarPopup';\nimport { AddPlacePopup } from '../components/AddPlacePopup ';\n\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = React.useState(false);\n\n  const [selectedCard, setSelectedCard] = React.useState({});\n\n  const [currentUser, setCurrentUser] = React.useState({});\n\n  const [cards, setCards] = React.useState([]);\n\n  \n\n  React.useEffect(() => {\n    api.getInitialCards()\n      .then((resCards) => {\n        setCards(resCards);\n      })\n      .catch((err) => { console.log('Ошибочка вышла', err) });\n  }, [])\n\n\n  function handleCardLike(card) {\n\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    if (!isLiked) {\n      api.setLikeCard(card._id)\n      .then((newCard) => {\n        setCards((cards) => cards.map((c) => c._id === card._id ? newCard : c));\n      })\n      .catch((err) => console.log('Ошибка в handleCardLike', err));\n    } else {\n      api.delLikeCard(card._id)\n      .then((newCard) => {\n        setCards((cards) => cards.map((c) => c._id === card._id ? newCard : c));\n      })\n      .catch((err) => console.log('Ошибка в handleCardLike', err));\n    }\n\n  }\n\n  function handleCardDelete(card) {\n\n    api.deleteCard(card._id)\n      .then((res) => {\n        setCards((cards) => cards.filter((c) => c._id !== card._id));\n      })\n      .catch((err) => console.log('Ошибка в handleCardDelete'));\n  }\n\n  function handleAddPlaceSubmit(data) {\n    api.addCard(data)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n      })\n      .then((res) => closeAllPopups())\n      .catch((err) => console.log('Ошибка в handleAddPlaceSubmit', err));\n  }\n\n  React.useEffect(() => {\n    api.getUserInfo()\n      .then((resUser) => {\n        setCurrentUser(resUser)\n      })\n      .catch((err) => { console.log('Ошибочка вышла', err) });\n  }, []);\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setIsImagePopupOpen(true);\n  };\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  };\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  };\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  };\n\n  // function handleConfirmClick() {\n  //   setIsConfirmPopupOpen(true);\n  // };\n\n  function closeAllPopups() {\n      setIsEditAvatarPopupOpen(false);\n      setIsEditProfilePopupOpen(false);\n      setIsAddPlacePopupOpen(false);\n      setIsImagePopupOpen(false);\n      setIsConfirmPopupOpen(false);\n      setSelectedCard({});\n\n  }\n\n  function handleUpdateUser(data) {\n    return api.editUserInfo(data)\n      .then((res) => setCurrentUser(res))\n      .then((res) => closeAllPopups())\n      .catch((err) => console.log('Ошибка в handleUpdateUser'));\n  }\n\n  function handleUpdateAvatar(data) {\n    return api.editUserAvatar(data)\n      .then((res) => setCurrentUser(res))\n      .then((res) => closeAllPopups())\n      .catch((err) => console.log('Ошибка в handleUpdateAvatar'));\n  }\n\n\n  return (\n    <>\n      <div className=\"page\">\n        <div className=\"page__container\">\n          <CurrentUserContext.Provider value={currentUser}>\n            <Header />\n\n            <Main onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n              onCardClick={handleCardClick}\n              cards={cards}\n              onCardLike={handleCardLike}\n              onCardDelete={handleCardDelete}\n            />\n\n            <Footer />\n            <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser}/>\n\n            <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n\n            <PopupWithForm name='confirm' title='Вы уверены?' isOpen={isConfirmPopupOpen} onClose={closeAllPopups} buttonText='Да'>\n            </PopupWithForm>\n\n            <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n\n            <ImagePopup card={selectedCard} isOpen={isImagePopupOpen} onClose={closeAllPopups} />\n          </CurrentUserContext.Provider>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from '../src/components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}